import{j as m}from"./jsx-runtime-u17CrQMm.js";import{r as g}from"./iframe-BoNRi0mi.js";import{c as z}from"./clsx-B-dksMZM.js";import{F as E,O as w,z as _}from"./overlayscrollbars-react-Cr2BDVyU.js";const R=(i={})=>{const{direction:r="both"}=i,e=g.useRef(null),o=g.useRef(null);return g.useEffect(()=>{const t=e.current,s=o.current;if(!t||!s)return;let n=!1,c=0,l=0,d=0,u=0;const f=a=>{n=!0,c=a.clientX,l=a.clientY,d=t.offsetWidth,u=t.offsetHeight,a.preventDefault()},v=a=>{if(!n||!t||r==="none")return;const x=a.clientX-c,y=a.clientY-l;if(r==="horizontal"||r==="both"){const b=d+x;t.style.width=`${b}px`}if(r==="vertical"||r==="both"){const b=u+y;t.style.height=`${b}px`}},p=()=>{n=!1};return s.addEventListener("mousedown",f),document.addEventListener("mousemove",v),document.addEventListener("mouseup",p),()=>{s.removeEventListener("mousedown",f),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",p)}},[]),{targetRef:e,handleRef:o}},T="_root_1jqqe_1",j="_field_1jqqe_8",q="_overlayscrollbarsReact_1jqqe_16",L="_errorText_1jqqe_25",N="_resizeButton_1jqqe_61",h={root:T,field:j,overlayscrollbarsReact:q,errorText:L,resizeButton:N},S=["input","textarea","select","datalist"],$=i=>{const{target:r,content:e}=i.elements(),{childElementCount:o,firstElementChild:t}=r.contains(e)?e:r;return t&&o===1&&t.getAttribute("data-overlayscrollbars-field")!==null&&S.includes(t.tagName.toLowerCase())&&t},B={fieldPlugin:{instance:(i,r)=>{const e=$(i);if(!e)return;const o=e.style.fieldSizing==="content",t=document.createElement("div"),s=()=>{const{style:n,parentElement:c}=e;if(c){const u=e.getBoundingClientRect();t.style.width=`${u.width}px`,t.style.height=`${u.height}px`,c.append(t)}n.width="0",n.height="0";const l=e.scrollWidth,d=e.scrollHeight;n.width=`${l}px`,n.height=`${d}px`,t.remove()};t.setAttribute("data-overlayscrollbars-field",""),r("initialized",()=>{o||(e.addEventListener("input",s),e.addEventListener("change",s),s())}),r("updated",()=>{o||s()}),r("destroyed",()=>{e.removeEventListener("input",s),e.removeEventListener("change",s),t.remove()})}}};w.plugin([_,B]);const C={both:"nwse-resize",horizontal:"ew-resize",vertical:"ns-resize"},M=i=>{const{label:r,error:e,direction:o="vertical",classNameTarget:t,...s}=i,{targetRef:n,handleRef:c}=R({direction:o}),l=g.useRef(null),[d,u]=E({defer:!0,options:{scrollbars:{theme:"os-theme-custom",clickScroll:!0}}});g.useEffect(()=>{const v=n.current,p=l.current;if(!(!v||!p))return d({target:v,elements:{viewport:p}}),()=>{const a=u();a&&a.destroy()}},[d,n,l]);const f=!!e;return m.jsxs("label",{className:h.root,children:[r&&m.jsx("span",{className:h.label,children:r}),m.jsxs("div",{ref:n,className:z(h.overlayscrollbarsReact,t,{[h.errorText]:f}),"data-overlayscrollbars-initialize":"",children:[o!=="none"&&m.jsx("div",{className:h.resizeButton,ref:c,style:{cursor:C[o]},"aria-hidden":"true"}),m.jsx("div",{ref:l,"data-overlayscrollbars-contents":"",children:m.jsx("textarea",{"data-overlayscrollbars-field":!0,className:h.field,"aria-invalid":f,"aria-describedby":e,...s})})]}),e&&m.jsx("span",{id:e,className:h.errorText,role:"alert",children:e})]})};M.__docgenInfo={description:"- `label?` — метка над полем\n- `error?` — сообщение об ошибке\n- `classNameTarget?` — дополнительный CSS-класс для корня OverlayScrollbars\n- `direction?` — направление изменения размера (например, `'vertical'`, `'horizontal'`, `'both', `'none'`)\n\nНаследует пропсы `<textarea>`.",methods:[],displayName:"Textarea",props:{label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},classNameTarget:{required:!1,tsType:{name:"string"},description:""},direction:{required:!1,tsType:{name:"union",raw:'"both" | "horizontal" | "vertical" | "none"',elements:[{name:"literal",value:'"both"'},{name:"literal",value:'"horizontal"'},{name:"literal",value:'"vertical"'},{name:"literal",value:'"none"'}]},description:""}}};export{M as T};
